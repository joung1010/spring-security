## 인가 관리자
### AuthorizationManager

인가 결정의 핵심 인터페이스로, 주어진 `Authentication`과 인증된 사용자의요청 정보를 바탕으로 접근 허용 여부를 결정합니다.  
  
해당 인터페이스는 Spring Security의 요청기반, 메서드 기반의 인가 구성 요서에서 호출되며 최종 엑세스 제어 결정을 수행한다.  
  
`AuthorizationManager`는 Spring Security의 필수 구성요소로서 권한 여부 처리는 `AuthorizationFilter`를 통해 이루어 지며 `AuthorizationFilter`는 `AuthorizationManager`를 호출하여 권한 부여 결정을 내린다.

### 주요 메서드

- **`AuthorizationDecision check(Supplier<Authentication> authentication, T object)`**
    - **설명**: 인가 결정을 수행하는 핵심 메서드입니다. `Authentication`과 보호된 객체(일반적으로 `HttpServletRequest`)를 받아 `AuthorizationDecision`을 반환합니다.
    - **반환값**: `AuthorizationDecision` - 접근 허용/거부 여부와 신뢰도를 포함
- **`default void verify(Supplier<Authentication> authentication, T object)`**
    - **설명**: `check` 메서드를 호출하고, 접근이 거부된 경우 `AccessDeniedException`을 발생시킵니다.
    - **예외**: 접근 거부 시 `AccessDeniedException` 발생

### AuthorizationFilter

Spring Security 6.0부터 `FilterSecurityInterceptor`를 대체하는 기본 인가 필터입니다. 모든 요청에 대해 인가 검사를 수행합니다.


### AuthorizationDecision

인가 결정 결과를 나타내는 클래스로, 접근 허용 여부와 결정의 신뢰도를 포함합니다.

### 속성

- **`boolean granted`**: 접근 허용 여부 (true: 허용, false: 거부)
- **`int confidence`**: 결정의 신뢰도 수준 (선택적)  


## 주요 구현체 계층구조

```

AuthorizationManager<T> (interface)
    │
    ├─── RequestMatcherDelegatingAuthorizationManager<T>
    │        │
    │        └─── URL 패턴별로 다른 AuthorizationManager를 위임
    │
    ├─── AuthorityAuthorizationManager<T>
    │        │
    │        ├─── hasAuthority(String authority)
    │        ├─── hasAnyAuthority(String... authorities)
    │        ├─── hasRole(String role)
    │        └─── hasAnyRole(String... roles)
    │
    ├─── AuthenticatedAuthorizationManager<T>
    │        │
    │        ├─── authenticated()
    │        ├─── fullyAuthenticated()
    │        └─── rememberMeAuthenticated()
    │
    ├─── WebExpressionAuthorizationManager
    │        │
    │        └─── SpEL 표현식 기반 인가 (예: hasRole('ADMIN') and hasIpAddress('..'))
    │
    ├─── SecuredAuthorizationManager
    │        │
    │        └─── @Secured 어노테이션 처리
    │
    ├─── Jsr250AuthorizationManager
    │        │
    │        └─── @RolesAllowed 등 JSR-250 어노테이션 처리
    │
    ├─── PreAuthorizeAuthorizationManager
    │        │
    │        └─── @PreAuthorize 어노테이션 처리
    │
    ├─── PostAuthorizeAuthorizationManager
    │        │
    │        └─── @PostAuthorize 어노테이션 처리
    │
    └─── AllowAllAuthorizationManager<T>
             │
             └─── 항상 접근 허용 (permitAll)

```

### 요청 기반 권한 부여 관리자
- RequestMatcherDelegatingAuthorizationManager
  : URL 패턴에 따라 적절한 AuthorizationManager에게 인가 결정을 위임하는 매니저

- WebExpressionAuthorizationManager
  : SpEL(Spring Expression Language) 표현식을 사용하여 복잡한 인가 규칙을 평가하는 매니저

- AuthorityAuthorizationManager
  : 사용자의 권한(Authority)이나 역할(Role)을 기반으로 접근 허용 여부를 결정하는 매니저

- AuthenticatedAuthorizationManager
  : 사용자의 인증 상태(인증됨, 완전인증, Remember-Me 등)를 기반으로 접근을 제어하는 매니저

### 메서드 기반 권한 부여 관리자
- PreAuthorizeAuthorizationManager
  : @PreAuthorize 어노테이션을 처리하여 메서드 실행 전에 권한을 검사하는 매니저

- PostAuthorizeAuthorizationManager
  : @PostAuthorize 어노테이션을 처리하여 메서드 실행 후 반환값을 기반으로 권한을 검사하는 매니저

- Jsr250AuthorizationManager
  : @RolesAllowed, @PermitAll, @DenyAll 등 JSR-250 표준 어노테이션을 처리하는 매니저

- SecuredAuthorizationManager
  : @Secured 어노테이션을 처리하여 지정된 권한을 가진 사용자만 메서드를 실행할 수 있도록 하는 매니저
  
 